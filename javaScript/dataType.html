<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数据类型 | 前端知识笔记</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.4e2df076.css" as="style"><link rel="preload" href="/assets/js/app.be509e9a.js" as="script"><link rel="preload" href="/assets/js/2.4b2a00e4.js" as="script"><link rel="preload" href="/assets/js/8.9cb529dd.js" as="script"><link rel="prefetch" href="/assets/js/10.031204ca.js"><link rel="prefetch" href="/assets/js/11.feaecb85.js"><link rel="prefetch" href="/assets/js/12.1b85bf73.js"><link rel="prefetch" href="/assets/js/13.b48db12d.js"><link rel="prefetch" href="/assets/js/14.7864705c.js"><link rel="prefetch" href="/assets/js/15.8efae799.js"><link rel="prefetch" href="/assets/js/16.87bf4fdb.js"><link rel="prefetch" href="/assets/js/17.c0b0ade2.js"><link rel="prefetch" href="/assets/js/18.12647e44.js"><link rel="prefetch" href="/assets/js/19.5a64bdfe.js"><link rel="prefetch" href="/assets/js/20.dcbf4ba3.js"><link rel="prefetch" href="/assets/js/21.0ff18500.js"><link rel="prefetch" href="/assets/js/22.8da01755.js"><link rel="prefetch" href="/assets/js/23.a405efb8.js"><link rel="prefetch" href="/assets/js/24.e43f2ee4.js"><link rel="prefetch" href="/assets/js/25.2975ede8.js"><link rel="prefetch" href="/assets/js/26.35c583f2.js"><link rel="prefetch" href="/assets/js/27.600313d1.js"><link rel="prefetch" href="/assets/js/3.d9cf569c.js"><link rel="prefetch" href="/assets/js/4.5023d5b6.js"><link rel="prefetch" href="/assets/js/5.e9f74356.js"><link rel="prefetch" href="/assets/js/6.32594799.js"><link rel="prefetch" href="/assets/js/7.02e3ee68.js"><link rel="prefetch" href="/assets/js/9.e9fbdf25.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4e2df076.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端知识笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/javaScript/dataType.html" class="active sidebar-link">数据类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javaScript/dataType.html#undefined-类型" class="sidebar-link">Undefined 类型</a></li><li class="sidebar-sub-header"><a href="/javaScript/dataType.html#null-类型" class="sidebar-link">Null 类型</a></li><li class="sidebar-sub-header"><a href="/javaScript/dataType.html#boolean-类型" class="sidebar-link">Boolean 类型</a></li><li class="sidebar-sub-header"><a href="/javaScript/dataType.html#string类型" class="sidebar-link">String类型</a></li><li class="sidebar-sub-header"><a href="/javaScript/dataType.html#number类型" class="sidebar-link">Number类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javaScript/dataType.html#深入浮点数精确度" class="sidebar-link">深入浮点数精确度</a></li></ul></li><li class="sidebar-sub-header"><a href="/javaScript/dataType.html#类型检测" class="sidebar-link">类型检测</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javaScript/dataType.html#检测基本类型" class="sidebar-link">检测基本类型</a></li><li class="sidebar-sub-header"><a href="/javaScript/dataType.html#检测引用类型" class="sidebar-link">检测引用类型</a></li></ul></li><li class="sidebar-sub-header"><a href="/javaScript/dataType.html#类型转换" class="sidebar-link">类型转换</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javaScript/dataType.html#原始值转布尔" class="sidebar-link">原始值转布尔</a></li></ul></li></ul></li><li><a href="/javaScript/variable.html" class="sidebar-link">变量</a></li><li><a href="/javaScript/function.html" class="sidebar-link">函数</a></li><li><a href="/javaScript/environment.html" class="sidebar-link">执行环境</a></li><li><a href="/javaScript/operating-mechanism.html" class="sidebar-link">运行机制</a></li><li><a href="/javaScript/closure.html" class="sidebar-link">闭包</a></li><li><a href="/javaScript/RAM.html" class="sidebar-link">内存问题</a></li><li><a href="/javaScript/object.html" class="sidebar-link">面向对象的程序设计</a></li><li><a href="/javaScript/Cross-domain.html" class="sidebar-link">跨域 与 Coment</a></li><li><a href="/javaScript/Simulation.html" class="sidebar-link">原理模拟实现</a></li><li><a href="/javaScript/advancedSkills.html" class="sidebar-link">高级技巧</a></li><li><a href="/javaScript/es6.html" class="sidebar-link">ES6</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="数据类型"><a href="#数据类型" class="header-anchor">#</a> 数据类型</h1> <p>JS标准规定了<strong>8种</strong>数据类型，其中有7种简单数据类型：<code>Undefind</code> <code>Null</code> <code>Boolean</code> <code>Number</code> <code>String</code> <code>Symbol</code> <code>BigInt</code>。
以及1种复杂数据类型：<code>Object</code></p> <h2 id="undefined-类型"><a href="#undefined-类型" class="header-anchor">#</a> Undefined 类型</h2> <p>Undefined 类型只有一个值，即特殊的 undefined。未初始化的变量会自动被赋予undefined值，但是显示地初始化变量依然是明智的选择。</p> <h2 id="null-类型"><a href="#null-类型" class="header-anchor">#</a> Null 类型</h2> <p>Null 类型只有一个值，null。从逻辑角度来看，null值表示一个<strong>空对象指针</strong>，而这也正是typeof操作符检测null值时返回“object”的原因。</p> <p>如果定义的变量准备在<strong>将来用于保存对象</strong>，那么最好将该变量初始化为null而不是其他值。
这样一来，只要直接检查null值就可以知道相应的变量是否已经保存了一个对象的应用，如下面的例子</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">if</span> <span class="token punctuation">(</span>car <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

 <span class="token punctuation">}</span>
</code></pre></div><p>实际上，undefined值是派生自null值的，因此ECMA-262规定它们的相等性测试要返回true;</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><h2 id="boolean-类型"><a href="#boolean-类型" class="header-anchor">#</a> Boolean 类型</h2> <p>Boolean 类型时JS中使用最多的一种类型，该类型只有两个字面量：true和false。</p> <h2 id="string类型"><a href="#string类型" class="header-anchor">#</a> String类型</h2> <p><strong>1. 字符串</strong></p> <p>String 数据类型包含一些特殊的字符字面量，也叫转移序列，用于表达非打印字符，或者具有其他用途的字符</p> <p><strong>2. 字符串的特点</strong></p> <p>JS中的字符串是<strong>不可变的</strong>，也就说，字符串一旦创建，它们的值就不能改变。要改变某个变量保存的字符串，首先要摧毁原来的字符串，
然后再用另一个包含新值的字符串填充该变量，例如：</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">var</span> lang <span class="token operator">=</span> <span class="token string">'java'</span><span class="token punctuation">;</span>
  lang <span class="token operator">=</span> lang <span class="token operator">+</span> <span class="token string">&quot;Script&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="number类型"><a href="#number类型" class="header-anchor">#</a> Number类型</h2> <p>JS中Number类型使用<code>IEEE754</code>标准来表示整数和浮点数值。
<code>IEEE754</code>：<strong>全称IEEE二进制浮点数算术标准</strong>，定义了表示浮点数的格式等内容。</p> <p>所谓<strong>浮点数值</strong>，就是该数值中必须包含<strong>一个小数点</strong>，并且<strong>小数点后至少有一位数字</strong>。
浮点数值的<strong>最高精度是17位小数</strong>。</p> <p>在 IEEE754 中，规定了四种表示浮点数值的方式：单精确度（32位）、双精确度（64位）、
延伸单精确度、延伸双精确度。JS采用的就是<strong>双精确度</strong>，也就是说，会用<strong>64位字节</strong>来存储
一个浮点数。</p> <h3 id="深入浮点数精确度"><a href="#深入浮点数精确度" class="header-anchor">#</a> 深入浮点数精确度</h3> <p><strong>前言</strong></p> <p>研究一下 0.1 + 0.2 是否等于 0.3</p> <p><strong>浮点数转二进制</strong></p> <p>0.1 用二进制表示就是 0.00011001100110011……</p> <p><strong>浮点数的存储</strong></p> <p>浮点数的储存是根据 <em><strong>IEEE754规定</strong></em> 的方式来存储的，这个标准方式有一个<strong>公式</strong>来表示浮点数（Value）：</p> <div class="language- extra-class"><pre class="language-text"><code> Value = sign * exponent  * fraction
</code></pre></div><p>简单理解就是<strong>科学计数法</strong></p> <p>比如 -1020，用科学计数法表示就是:</p> <p><code>-1 * 10^3 * 1.02</code></p> <p><code>-1</code> 就是 sign， <code>10^3</code> 就是 exponent， <code>1.02</code> 就是 fraction</p> <p>二进制也是一样，以 0.1 的二进制 0.00011001100110011…… 这个数来说</p> <p><code>1 * 2^-4 * 1.1001100110011……</code></p> <p>其中 sign 就是 1，exponent 就是 2^-4，fraction 就是 1.1001100110011……</p> <p>而当只做二进制科学计数法的表示时，这个 Value 的表示可以再具体一点变成：</p> <div class="language- extra-class"><pre class="language-text"><code> V = (-1)^S * (1 + Fraction) * 2^E: 
</code></pre></div><p><strong>(-1)^S</strong> 表示<strong>符号位</strong>，当 S = 0，V 为正数；当 S = 1，V 为负数。</p> <p><strong>(1 + Fraction)</strong>：因为所有的浮点数都可以表示为 <strong>1.xxxx * 2^xxx</strong> 的形式，所以1.xxxx 前面的一定是 1.xxx，就不存储这个 1 了，直接存后面的 xxxxx ，这也就是 Fraction 的部分。</p> <p><strong>2^E</strong>: E <strong>既可能是负数，又可能是正数</strong>，该怎么储存这个 E 呢？我们并不会直接存储 E，而是会存储 <strong>E + bias</strong>。所以，存储一个浮点数，会存 S 和 Fraction 和 E + bias 这三个值，那具体要分配多少个字节位来存储这些数呢？IEEE754 给出了标准：</p> <p><img src="/assets/img/ebais.2c508606.png" alt="An image"></p> <p>在这个标准下：</p> <p>用 1 位存储 S，0 表示正数，1 表示负数。</p> <p>用 11 位存储 E + bias，对于 11 位来说，bias 的值是 2^(11-1) - 1，也就是 1023。</p> <p>用 52 位存储 Fraction。</p> <p>拿 0.1 来看，对应二进制科学计数法是 1 * 1.1001100110011…… * 2^-4，Sign 是 0，E + bias 是 -4 + 1023 = 1019，1019 用二进制表示是 1111111011，Fraction 是 1001100110011……</p> <p>对应 64 个字节位的完整表示就是：</p> <p><code>0 01111111011 1001100110011001100110011001100110011001100110011010</code></p> <p>同理, 0.2 表示的完整表示是：</p> <p><code>0 01111111100 1001100110011001100110011001100110011001100110011010</code></p> <p>综上所述，浮点数在被存储的时候就已经丢失精度。</p> <p><strong>浮点数的运算</strong></p> <p>浮点数的运算分为五个步骤：<strong>对阶、尾数运算、规格化、舍入处理、溢出判断</strong></p> <p>看一下0.1 + 0.2 的运算：</p> <p><em><strong>对阶</strong></em> ：把<strong>价码</strong>调整为<strong>相同</strong>，调整原则是小阶对大阶（即小的阶数调成大的阶数）。</p> <p>比如：0.1的二进制科学计数法为 <code>1.1001100110011…… * 2^-4</code>，0.2的二进制科学计数法为 <code>1.10011001100110...* 2^-3</code>，0.1的<strong>价码</strong>就是 <code>-4</code>，0.2的<strong>价码</strong>就是 <code>-3</code>；再进行调整，把0.1的<code>-4</code>调整为<code>-3</code>即 <code>0.11001100110011…… * 2^-3</code>。</p> <p><em><strong>尾数运算</strong></em>：</p> <div class="language- extra-class"><pre class="language-text"><code>  0.1100110011001100110011001100110011001100110011001101 * 2^-3
+ 1.1001100110011001100110011001100110011001100110011010 * 2^-3
————————————————————————————————————————————————————————————————
 10.0110011001100110011001100110011001100110011001100111 * 2^-3
</code></pre></div><p>结果为 <code>10.0110011001100110011001100110011001100110011001100111 * 2^-3</code></p> <p><em><strong>规格化</strong></em>：</p> <p>规格化结果为 <code>1.0011001100110011001100110011001100110011001100110011(1) * 2^-2</code></p> <p>括号里的 1 意思是计算后这个 1 超出了范围要被舍弃。</p> <p><em><strong>舍入处理</strong></em></p> <p>四舍五入对应到二进制中，就是 0 舍 1 入，因为我们要把括号里的 1 丢了，所以这里会进一，结果变成</p> <p><code>1.0011001100110011001100110011001100110011001100110100 * 2^-2</code></p> <p><em><strong>结果</strong></em></p> <p>0.1 + 0.3 存成 64 位就是</p> <p><code>0 01111111101 0011001100110011001100110011001100110011001100110100</code></p> <p>将它转换为10进制数就得到</p> <p><code>0.30000000000000004440892098500626</code></p> <p>综上所述，因为0.1和0.2存储时的精度丢失再加上运算时的精度丢失，最终导致了 0.1 + 0.2 !== 0.3</p> <h2 id="类型检测"><a href="#类型检测" class="header-anchor">#</a> 类型检测</h2> <h3 id="检测基本类型"><a href="#检测基本类型" class="header-anchor">#</a> 检测基本类型</h3> <p>检测变量的基本类型使用<code>typeof</code>,除了<code>null</code>都可以显示正确的类型。</p> <p>使用<code>typeof</code>检查<code>null</code>值会返回<code>object</code>。因为从逻辑角度看，<code>null</code>表示一个空对象指针。</p> <p><code>typeof</code>检测函数时，会返回“function。</p> <h3 id="检测引用类型"><a href="#检测引用类型" class="header-anchor">#</a> 检测引用类型</h3> <p>检测变量的引用类型使用: <code>instanceof</code>。</p> <p>检测某个对象是否为数组使用: <code>Array.isArray(obj)</code></p> <h2 id="类型转换"><a href="#类型转换" class="header-anchor">#</a> 类型转换</h2> <h3 id="原始值转布尔"><a href="#原始值转布尔" class="header-anchor">#</a> 原始值转布尔</h3> <p>只有 6 种值可以被转换成 false，</p> <p>不传任何参数时返回 false,</p> <p>其他都会被转换成 true，</p> <div class="language-js extra-class"><pre class="language-js"><code> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/javaScript/variable.html">
        变量
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.be509e9a.js" defer></script><script src="/assets/js/2.4b2a00e4.js" defer></script><script src="/assets/js/8.9cb529dd.js" defer></script>
  </body>
</html>
